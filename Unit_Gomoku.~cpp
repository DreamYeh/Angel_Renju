//---------------------------------------------------------------------------
#include <vcl.h>

#pragma hdrstop

#include "Unit_Gomoku.h"
#include "Unit_Main.h"
//---------------------------------------------------------------------------

#pragma package(smart_init)

static const unsigned char  * const adv_gomoku /* [978] */ = (unsigned char*)
 /* 0 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 16 */ "\x00\x00\x00\x00\xa0\x00\xa0\x00\x04\x00\x04\x00\x00\xd0\x00\xd0"
 /* 32 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 48 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 64 */ "\x00\x70\x00\x00\x00\x00\xa0\x00\xa1\x00\x00\x00\xa0\x00\x04\x00"
 /* 80 */ "\x04\x00\x00\x00\x04\x00\xd0\xd0\x00\xd0\x00\xd0\x00\xd0\x00\x00"
 /* 96 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x70\x08\x08\x00\x08\x00\x08\x00"
 /* 112 */ "\x08\x00\x08\x00\x40\x40\x00\x40\x00\x40\x00\x40\x00\x40\x00\x00"
 /* 128 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x70"
 /* 144 */ "\x00\x00\x00\x70\x21\x00\x00\x00\x00\x00\xa1\x00\x00\x00\xa1\x00"
 /* 160 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 176 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 192 */ "\x00\x00\x00\x00\x00\x00\x70\x21\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 208 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 224 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 240 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x70\x00\x00"
 /* 256 */ "\x00\x70\x21\x00\x00\x00\x00\x00\x00\x00\xa0\x00\xa1\x00\x00\x00"
 /* 272 */ "\xa1\x00\x00\x00\xa0\x00\x00\x00\xa0\x00\x04\x00\x04\x00\x00\x00"
 /* 288 */ "\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\xd0\xd0\x00\xd0\x00\xd0"
 /* 304 */ "\x00\xd0\x00\xd0\x00\xd0\x00\xd0\x00\xd0\x00\x00\x00\x00\x00\x00"
 /* 320 */ "\x00\x00\x00\x00\x70\x21\x00\x00\x00\x00\x00\x00\x70\x08\x08\x00"
 /* 336 */ "\x08\x00\x08\x00\x08\x00\x08\x00\x08\x00\x08\x00\x08\x00\x08\x00"
 /* 352 */ "\x40\x40\x00\x40\x00\x40\x00\x40\x00\x40\x00\x40\x00\x40\x00\x40"
 /* 368 */ "\x00\x40\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 384 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x70\x00\x00\x00\x70"
 /* 400 */ "\x21\x00\x00\x00\x00\x00\x00\x70\x21\x00\x00\x00\x00\x00\xa1\x00"
 /* 416 */ "\x00\x00\xa1\x00\x00\x00\x00\x00\x00\x00\xa1\x00\x00\x00\x00\x00"
 /* 432 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 448 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 464 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 480 */ "\x00\x00\x70\x21\x00\x00\x00\x00\x00\x00\x70\x21\x00\x00\x00\x00"
 /* 496 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 512 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 528 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 544 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 560 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x70\x00\x00\x00\x70\x21\x00"
 /* 576 */ "\x00\x00\x00\x00\x00\x70\x21\x00\x00\x00\x00\x00\x00\x00\xa0\x00"
 /* 592 */ "\xa1\x00\x00\x00\xa1\x00\x00\x00\xa0\x00\x00\x00\xa1\x00\x00\x00"
 /* 608 */ "\xa0\x00\x00\x00\xa0\x00\x04\x00\x04\x00\x00\x00\x04\x00\x00\x00"
 /* 624 */ "\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\xd0"
 /* 640 */ "\x00\xd0\x00\x00\x00\xd0\x00\x00\x00\xd0\x00\x00\x00\xd0\x00\x00"
 /* 656 */ "\x00\xd0\x00\x00\x00\xd0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 672 */ "\x70\x21\x00\x00\x00\x00\x00\x00\x70\x21\x00\x00\x00\x00\x00\x00"
 /* 688 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 704 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 720 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 736 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 752 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 768 */ "\x00\x00\x00\x00\x00\x00\x00\x70\x00\x00\x00\x70\x21\x00\x00\x00"
 /* 784 */ "\x00\x00\x00\x70\x21\x00\x00\x00\x00\x00\x00\x70\x00\x00\x00\x00"
 /* 800 */ "\x00\x00\xa1\x00\x00\x00\xa1\x00\x00\x00\x00\x00\x00\x00\xa1\x00"
 /* 816 */ "\x00\x00\x00\x00\x00\x00\xa1\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 832 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 848 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 864 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 880 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x70\x21"
 /* 896 */ "\x00\x00\x00\x00\x00\x00\x70\x21\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 912 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 928 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 944 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 960 */ "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
 /* 976 */ "\x00";


static const unsigned char  * const pat_gomoku /* [1954] */ =(unsigned char*)
 /* 0 */ "\x00\x02\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x22\x33\x00"
 /* 16 */ "\x00\x00\x00\x33\x33\x00\x00\x00\x33\x66\x77\xdd\x00\x00\x00\x00"
 /* 32 */ "\x22\x00\x33\x00\x00\x22\x33\x22\x55\x32\x66\x22\x55\x00\x11\x33"
 /* 48 */ "\x11\x44\x33\x77\x11\x44\x00\x00\x33\x66\x55\x88\x77\xdd\x55\x88"
 /* 64 */ "\x77\xdd\x00\x00\x33\x00\x33\x00\x00\x00\x02\x01\x05\x00\x00\x33"
 /* 80 */ "\x77\x33\x77\x33\x07\x00\x77\x04\x68\x33\xbb\x00\x33\x77\x33\x77"
 /* 96 */ "\x00\x07\x00\x77\x00\x07\x00\x77\x00\x00\x66\xdd\x66\xdd\x07\xcc"
 /* 112 */ "\x66\xdd\x07\xcc\x66\xdd\x07\xcc\x00\x00\x00\x00\x22\x00\x00\x00"
 /* 128 */ "\x22\x11\x55\x00\x00\x00\x66\x00\x00\x22\x33\x22\x55\x01\x66\x22"
 /* 144 */ "\x55\x44\x88\x22\x77\x77\xdd\x00\x55\x00\x11\x33\x00\x44\x33\x77"
 /* 160 */ "\x11\x44\x01\x77\x11\x04\x01\x07\x11\x44\x01\x33\x55\x66\x55\x88"
 /* 176 */ "\x77\xdd\x55\x88\x77\xdd\x55\x68\x07\xcc\x55\x88\x77\xdd\x00\x00"
 /* 192 */ "\x33\x00\x00\x00\x00\x00\x01\x01\x05\x00\x33\x00\x66\x00\x11\x00"
 /* 208 */ "\x55\x00\x33\x44\x77\x44\x77\x04\x07\x44\x77\x04\x68\x44\xbb\x77"
 /* 224 */ "\xdd\x44\x77\x04\x68\x44\xbb\x33\x44\x77\x44\x77\x04\x07\x44\x77"
 /* 240 */ "\x04\x07\x44\x77\x04\x07\x44\x77\x04\x07\x44\x77\x04\x66\x88\xdd"
 /* 256 */ "\x88\xdd\x68\xcc\x88\xdd\x68\xcc\x88\xdd\x68\xcc\x88\xdd\x68\xcc"
 /* 272 */ "\x88\xdd\x68\xcc\x00\x00\x00\x00\x02\x00\x00\x00\x22\x11\x55\x00"
 /* 288 */ "\x33\x00\x66\x00\x22\x11\x55\x00\x44\x44\x88\x00\x33\x32\x03\x22"
 /* 304 */ "\x05\x33\x66\x00\x55\x44\x88\x33\x77\x77\xdd\x00\x55\x44\x88\x01"
 /* 320 */ "\x77\x77\xdd\x00\x05\x33\x00\x00\x00\x04\x00\x77\x00\x03\x00\x77"
 /* 336 */ "\x33\x04\x00\x07\x00\x04\x01\x77\x00\x04\x04\x68\x00\x04\x00\x77"
 /* 352 */ "\x77\x07\x77\x68\xbb\xdd\x77\x68\xbb\xdd\x77\x08\x7b\xcc\x77\x68"
 /* 368 */ "\xbb\xdd\x77\x08\x7b\xcc\x77\x68\xbb\xdd\x33\x33\x00\x00\x00\x00"
 /* 384 */ "\x00\x00\x01\x11\x05\x00\x00\x00\x66\x00\x22\x00\x55\x00\x44\x44"
 /* 400 */ "\x88\x00\x00\x00\x77\x00\x77\x77\x07\x77\x07\x77\x07\x77\x07\x77"
 /* 416 */ "\x68\x77\x7b\xbb\xdd\x77\x07\x77\x68\x77\x7b\xbb\xdd\x77\x07\x77"
 /* 432 */ "\x08\x77\x0b\x77\x77\x07\x77\x07\x77\x07\x77\x07\x77\x07\x77\x07"
 /* 448 */ "\x77\x07\x77\x07\x77\x07\x77\x07\x77\x68\x77\x07\x77\x7b\x77\x7b"
 /* 474 */ "\xbb\xdd\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc"
 /* 480 */ "\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc"
 /* 496 */ "\x00\x00\x00\x00\x22\x00\x33\x00\x22\x11\x55\x00\x33\x33\x66\x00"
 /* 512 */ "\x22\x11\x55\x11\x44\x44\x88\x00\x33\x33\x77\x33\x77\x77\xdd\x00"
 /* 528 */ "\x00\x22\x33\x22\x55\x33\x66\x22\x55\x44\x88\x22\x77\x77\xdd\x22"
 /* 544 */ "\x55\x44\x88\x22\x77\x77\xdd\x22\x55\x04\x68\x22\x07\x07\xcc\x22"
 /* 560 */ "\x55\x00\x11\x33\x11\x44\x33\x77\x11\x44\x11\x77\x11\x04\x03\x07"
 /* 576 */ "\x11\x44\x01\x77\x11\x04\x04\x68\x11\x44\x11\xbb\x33\x77\x77\xdd"
 /* 592 */ "\x11\x44\x01\x33\x55\x66\x55\x88\x77\xdd\x55\x88\x77\xdd\x55\x68"
 /* 608 */ "\x07\xcc\x55\x88\x77\xdd\x55\x68\x07\xcc\x55\x88\x77\xdd\x55\x68"
 /* 624 */ "\x07\xcc\x55\x88\x77\xdd\x00\x00\x00\x33\x02\x00\x03\x00\x02\x01"
 /* 640 */ "\x35\x00\x00\x33\x66\x00\x22\x11\x55\x00\x44\x44\x88\x00\x00\x00"
 /* 656 */ "\x77\x00\x77\x77\xdd\x11\x11\x11\x55\x00\x33\x44\x77\x44\x77\x04"
 /* 672 */ "\x07\x44\x77\x04\x68\x44\xbb\x77\xdd\x44\x77\x04\x68\x44\xbb\x77"
 /* 688 */ "\xdd\x44\x77\x04\x08\x44\x7b\x07\xcc\x44\x77\x04\x68\x44\xbb\x33"
 /* 704 */ "\x44\x77\x44\x77\x34\x07\x44\x77\x04\x07\x44\x77\x04\x07\x44\x77"
 /* 720 */ "\x04\x07\x44\x77\x04\x68\x44\x77\x04\x7b\x44\xbb\x77\xdd\x44\x77"
 /* 736 */ "\x04\x07\x44\x77\x04\x66\x88\xdd\x88\xdd\x68\xcc\x88\xdd\x68\xcc"
 /* 752 */ "\x88\xdd\x68\xcc\x88\xdd\x68\xcc\x88\xdd\x68\xcc\x88\xdd\x68\xcc"
 /* 768 */ "\x88\xdd\x68\xcc\x88\xdd\x68\xcc\x88\xdd\x68\xcc\x00\x00\x00\x00"
 /* 784 */ "\x02\x00\x33\x00\x22\x11\x55\x00\x00\x33\x66\x11\x22\x11\x55\x00"
 /* 800 */ "\x44\x44\x88\x00\x00\x00\x77\x00\x77\x77\xdd\x00\x22\x01\x55\x00"
 /* 816 */ "\x44\x44\x88\x00\x33\x33\x03\x22\x05\x33\x66\x22\x55\x44\x88\x00"
 /* 832 */ "\x77\x77\xdd\x00\x55\x44\x88\x00\x77\x77\xdd\x00\x05\x04\x68\x00"
 /* 848 */ "\x07\x07\xcc\x00\x55\x44\x88\x00\x77\x77\xdd\x00\x05\x33\x00\x33"
 /* 864 */ "\x00\x04\x33\x77\x00\x04\x00\x77\x00\x04\x00\x07\x00\x04\x00\x77"
 /* 880 */ "\x00\x04\x04\x68\x00\x04\x00\xbb\x33\x77\x77\xdd\x00\x04\x11\x77"
 /* 896 */ "\x00\x04\x04\x68\x00\x04\x00\x77\x77\x07\x77\x68\xbb\xdd\x77\x68"
 /* 912 */ "\xbb\xdd\x77\x08\x7b\xcc\x77\x68\xbb\xdd\x77\x08\x7b\xcc\x77\x68"
 /* 928 */ "\xbb\xdd\x77\x08\x7b\xcc\x77\x68\xbb\xdd\x77\x08\x7b\xcc\x77\x68"
 /* 944 */ "\xbb\xdd\x00\x00\x03\x00\x00\x00\x00\x00\x02\x01\x05\x00\x00\x33"
 /* 960 */ "\x66\x00\x22\x00\x55\x00\x44\x44\x88\x00\x00\x00\x77\x33\x77\x77"
 /* 976 */ "\xdd\x00\x22\x01\x55\x00\x44\x44\x88\x00\x00\x00\x77\x00\x77\x77"
 /* 992 */ "\x07\x77\x07\x77\x07\x77\x07\x77\x68\x77\x7b\xbb\xdd\x77\x07\x77"
 /* 1008 */ "\x68\x77\x7b\xbb\xdd\x77\x07\x77\x08\x77\x0b\x7b\xcc\x77\x07\x77"
 /* 1024 */ "\x68\x77\x7b\xbb\xdd\x77\x07\x77\x08\x77\x0b\x77\x77\x07\x77\x07"
 /* 1050 */ "\x77\x07\x77\x07\x77\x07\x77\x07\x77\x07\x77\x07\x77\x07\x77\x07"
 /* 1056 */ "\x77\x68\x77\x07\x77\x7b\x77\x7b\xbb\xdd\x77\x07\x77\x07\x77\x07"
 /* 1072 */ "\x77\x68\x77\x07\x77\x7b\x77\x7b\xbb\xdd\xdd\xcc\xdd\xcc\xdd\xcc"
 /* 1088 */ "\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc"
 /* 1104 */ "\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc"
 /* 1120 */ "\xdd\xcc\xdd\xcc\xdd\xcc\xdd\xcc\x00\x00\x00\x00\x22\x00\x33\x00"
 /* 1136 */ "\x22\x11\x55\x00\x00\x33\x66\x00\x22\x00\x55\x00\x44\x44\x88\x00"
 /* 1152 */ "\x00\x00\x77\x33\x77\x77\xdd\x00\x22\x11\x55\x00\x44\x44\x88\x00"
 /* 1168 */ "\x00\x00\x77\x00\x77\x77\xdd\x00\x00\x02\x33\x22\x55\x33\x66\x22"
 /* 1184 */ "\x55\x44\x88\x00\x77\x77\xdd\x00\x55\x44\x88\x00\x77\x77\xdd\x00"
 /* 1200 */ "\x55\x04\x68\x00\x07\x07\xcc\x00\x55\x44\x88\x00\x77\x77\xdd\x00"
 /* 1216 */ "\x55\x04\x68\x00\x07\x07\xcc\x00\x55\x00\x01\x33\x00\x44\x00\x77"
 /* 1232 */ "\x00\x44\x00\x77\x00\x04\x00\x07\x00\x44\x33\x77\x00\x04\x04\x68"
 /* 1258 */ "\x00\x44\x00\xbb\x00\x77\x77\xdd\x00\x44\x11\x77\x00\x04\x04\x68"
 /* 1274 */ "\x00\x44\x34\xbb\x00\x77\x77\xdd\x00\x44\x00\x00\x05\x66\x55\x88"
 /* 1280 */ "\x77\xdd\x55\x88\x77\xdd\x05\x68\x07\xcc\x55\x88\x77\xdd\x05\x68"
 /* 1296 */ "\x07\xcc\x55\x88\x77\xdd\x05\x68\x07\xcc\x55\x88\x77\xdd\x05\x68"
 /* 1312 */ "\x07\xcc\x55\x88\x77\xdd\x05\x68\x07\xcc\x55\x88\x77\xdd\x00\x00"
 /* 1328 */ "\x00\x00\x00\x00\x11\x00\x01\x11\x05\x00\x00\x33\x66\x00\x22\x11"
 /* 1344 */ "\x55\x00\x44\x44\x88\x00\x00\x00\x77\x33\x77\x77\xdd\x00\x22\x11"
 /* 1360 */ "\x55\x00\x44\x44\x88\x00\x00\x00\x77\x00\x77\x77\xdd\x00\x00\x00"
 /* 1376 */ "\x05\x00\x00\x04\x77\x04\x77\x04\x07\x04\x77\x04\x68\x04\xbb\x77"
 /* 1392 */ "\xdd\x04\x77\x04\x68\x04\xbb\x77\xdd\x04\x77\x04\x08\x04\x7b\x07"
 /* 1408 */ "\xcc\x04\x77\x04\x68\x04\xbb\x77\xdd\x04\x77\x04\x08\x04\x7b\x07"
 /* 1434 */ "\xcc\x04\x77\x04\x68\x04\xbb\x00\x04\x77\x04\x77\x04\x07\x04\x77"
 /* 1440 */ "\x04\x07\x04\x77\x04\x07\x04\x77\x04\x07\x04\x77\x04\x68\x04\x77"
 /* 1466 */ "\x04\x7b\x04\xbb\x77\xdd\x04\x77\x04\x07\x04\x77\x04\x68\x04\x77"
 /* 1472 */ "\x04\x7b\x04\xbb\x77\xdd\x04\x77\x04\x07\x04\x77\x04\x07\x68\xdd"
 /* 1488 */ "\x68\xdd\x08\xcc\x68\xdd\x08\xcc\x68\xdd\x08\xcc\x68\xdd\x08\xcc"
 /* 1504 */ "\x68\xdd\x08\xcc\x68\xdd\x08\xcc\x68\xdd\x08\xcc\x68\xdd\x08\xcc"
 /* 1520 */ "\x68\xdd\x08\xcc\x68\xdd\x08\xcc\x68\xdd\x08\xcc\x68\xdd\x08\xcc"
 /* 1536 */ "\x68\xdd\x08\xcc\x00\x00\x00\x00\x02\x00\x33\x00\x11\x11\x55\x00"
 /* 1552 */ "\x00\x33\x66\x00\x22\x11\x55\x00\x44\x44\x88\x00\x00\x00\x77\x33"
 /* 1568 */ "\x77\x77\xdd\x00\x22\x11\x55\x00\x44\x44\x88\x00\x00\x00\x77\x00"
 /* 1584 */ "\x77\x77\xdd\x00\x00\x00\x55\x00\x04\x04\x68\x00\x00\x00\x00\x01"
 /* 1600 */ "\x05\x33\x66\x22\x55\x44\x88\x00\x77\x77\xdd\x00\x55\x44\x88\x00"
 /* 1616 */ "\x77\x77\xdd\x00\x05\x04\x68\x00\x07\x07\xcc\x00\x55\x44\x88\x00"
 /* 1632 */ "\x77\x77\xdd\x00\x05\x04\x68\x00\x07\x07\xcc\x00\x55\x44\x88\x00"
 /* 1648 */ "\x77\x77\xdd\x00\x05\x00\x00\x00\x00\x04\x00\x77\x00\x04\x00\x77"
 /* 1664 */ "\x00\x04\x00\x07\x00\x04\x00\x77\x00\x04\x04\x68\x00\x04\x00\xbb"
 /* 1680 */ "\x33\x77\x77\xdd\x00\x04\x00\x77\x00\x04\x04\x68\x00\x04\x00\xbb"
 /* 1696 */ "\x00\x77\x77\xdd\x00\x04\x00\x77\x00\x04\x04\x08\x00\x04\x00\x07"
 /* 1712 */ "\x07\x07\x07\x68\x7b\xdd\x07\x68\x7b\xdd\x07\x08\x0b\xcc\x07\x68"
 /* 1728 */ "\x7b\xdd\x07\x08\x0b\xcc\x07\x68\x7b\xdd\x07\x08\x0b\xcc\x07\x68"
 /* 1754 */ "\x7b\xdd\x07\x08\x0b\xcc\x07\x68\x7b\xdd\x07\x08\x0b\xcc\x07\x68"
 /* 1770 */ "\x7b\xdd\x07\x08\x0b\xcc\x07\x68\x7b\xdd\x00\x00\x00\x00\x00\x00"
 /* 1776 */ "\x00\x00\x01\x11\x05\x00\x00\x33\x66\x00\x22\x11\x55\x00\x44\x44"
 /* 1792 */ "\x88\x00\x00\x00\x77\x00\x77\x77\xdd\x00\x11\x11\x55\x00\x44\x44"
 /* 1808 */ "\x88\x00\x00\x00\x77\x00\x77\x77\xdd\x00\x00\x00\x05\x00\x04\x04"
 /* 1834 */ "\x68\x00\x00\x00\x07\x00\x07\x07\x07\x07\x07\x07\x07\x07\x07\x07"
 /* 1840 */ "\x68\x07\x7b\x7b\xdd\x07\x07\x07\x68\x07\x7b\x7b\xdd\x07\x07\x07"
 /* 1857 */ "\x08\x07\x0b\x0b\xcc\x07\x07\x07\x68\x07\x7b\x7b\xdd\x07\x07\x07"
 /* 1872 */ "\x08\x07\x0b\x0b\xcc\x07\x07\x07\x68\x07\x7b\x7b\xdd\x07\x07\x07"
 /* 1888 */ "\x08\x07\x0b\x07\x07\x07\x07\x07\x07\x07\x07\x07\x07\x07\x07\x07"
 /* 1904 */ "\x07\x07\x07\x07\x07\x07\x07\x07\x07\x68\x07\x07\x07\x7b\x07\x7b"
 /* 1920 */ "\x7b\xdd\x07\x07\x07\x07\x07\x07\x07\x68\x07\x07\x07\x7b\x07\x7b"
 /* 1936 */ "\x7b\xdd\x07\x07\x07\x07\x07\x07\x07\x08\x07\x07\x07\x0b\x07\x0b"
 /* 1962 */ "\x0b";
//---------------------------------------------------------------------------
int gomo_getindex(board_t ku, int x, int y, int color, int dx, int dy)
{
     int             i, k, n;
     for (n = -1, i = 0, k = 1; i < 5; i++, k*=2) {
         x += dx;
         y += dy;

         if ((x < 0) || (x >= BRDSIZ) || (y < 0) || (y >= BRDSIZ)) {
             n += k;
             break;
         } else if (ku[x][y] != BBLANK) {
             n += k;
             if (ku[x][y] != color)
                 break;
         }
     }

     if (i >= 5)
         n += k;

     return n;
 }
//---------------------------------------------------------------------------
 int dirchk(board_t ku, int x, int y, int color, int limit, int dx, int dy)
 {
     int             le, ri, loc, style = 0, Dream;

     le = gomo_getindex(ku, x, y, color, -dx, -dy);
     ri = gomo_getindex(ku, x, y, color, dx, dy);

     loc = (le > ri) ? (((le * (le + 1)) >> 1) + ri) :
         (((ri * (ri + 1)) >> 1) + le);

     style = pat_gomoku[loc];

     if (limit == 0)
         return (style & 0x0f);

     style >>= 4;
     if ((style == 4) || (style == 5)) {
         int    i, n = 0, tmp, nx, ny, tmp_style=style;

         n = adv_gomoku[loc / 2];

         if(loc%2==0)
             n/=16;
         else
             n%=16;

         ku[x][y] = color;

         for (i = 0; i < 2; i++) {
             if ((tmp = (i == 0) ? (-(n >> 2)) : (n & 3)) != 0) {
                 nx = x + (le > ri ? 1 : -1) * tmp * dx;
                 ny = y + (le > ri ? 1 : -1) * tmp * dy;

                 if (dirchk(ku, nx, ny, color, 0, dx, dy) == 0x08)//活四
                 {
                        Dream = getstyle(ku, nx, ny, color, limit);
                        if(Dream>=10 && Dream <=12) //四四、雙四、長連
                        {
                                tmp_style--;
                        }
                 }
             }
         }
         if (tmp_style == 3)             style = 0;//以禁解禁
         ku[x][y] = BBLANK;
     }
     return style;
 }


 int Test_dirchk(board_t ku, int x, int y, int color, int limit, int dx, int dy)
 {
     int             le, ri, loc, style = 0, Dream;

     le = gomo_getindex(ku, x, y, color, -dx, -dy);
     ri = gomo_getindex(ku, x, y, color, dx, dy);

     loc = (le > ri) ? (((le * (le + 1)) >> 1) + ri) :
         (((ri * (ri + 1)) >> 1) + le);

     style = loc;
     //style = pat_gomoku[loc]&0x0f;

     return style;

 }
//---------------------------------------------------------------------------
int getstyle(board_t ku, int x, int y, int color, int limit)
{
     int             i, j, dir[4], style;

     if ((x < 0) || (x >= BRDSIZ) || (y < 0) || (y >= BRDSIZ))
         return 0x0f;
     if (ku[x][y] != BBLANK)
         return 0x0e;

     // (-1,1), (0,1), (1,0), (1,1)
     for (i = 0; i < 4; i++)
         dir[i] = dirchk(ku, x, y, color, limit, i ? (i >> 1) : -1, i ? (i & 1) : 1);

     //qsort(dir, 4, sizeof(int), (QCAST)intrevcmp);
     for (i = 0; i < 3; i++)    for (j = i+1; j < 4; j++)
     {
        if(dir[i]<dir[j])       {style = dir[i]; dir[i]=dir[j];  dir[j]=style;}
     }


     if ((style = dir[0]) > 3) {//最高的有超過死三
         for (i = 1, j = 8 + (limit ? 1 : 0); i < 4; i++) {
             if ((style > j) || (dir[i] < 4))
                 break;
             if (dir[i] > 5)
                 style = 11;   //四四
             else if ((style < 9) && (style > 5))
                 style = 9;   //四三
             else
                 style = 10;   //三三
         }
     }
     return style;
}
//---------------------------------------------------------------------------

int GetMyScore(board_t ku, int x, int y,int MyColor)
{
     int Score=0,i, j, dir[4], style;

     if ((x < 0) || (x >= BRDSIZ) || (y < 0) || (y >= BRDSIZ))
         return -10000;
     if (ku[x][y] != BBLANK)
         return -2000;

     // (-1,1), (0,1), (1,0), (1,1)
     for (i = 0; i < 4; i++)
         dir[i] = dirchk(ku, x, y, MyColor, 1, i ? (i >> 1) : -1, i ? (i & 1) : 1);

     for (i = 0; i < 3; i++)    for (j = i+1; j < 4; j++)
     {
        if(dir[i]<dir[j])       {style = dir[i]; dir[i]=dir[j];  dir[j]=style;}
     }
     if ((style = dir[0]) > 3) {//最高的有超過死三
         for (i = 1; i < 4; i++) {
             if ((style > 9) || (dir[i] < 4))
                 break;
             if (dir[i] > 5)
                 style = 11;   //四四
             else if ((style < 9) && (style > 5))
                 style = 9;   //四三
             else
                 style = 10;   //三三
         }
     }

     if(MyColor==BBLACK && style >=10 && style<=12)//禁點
     {
        return -2000;
     }
     switch(style)
     {
                case 13://5
                        return 2000;
                case 12://6
                        return 2000;
                case 11://44
                        Score = 1000;
                        break;
                case 10://33
                        Score = 500;
                        break;
                case 9://43
                        Score = 1000; //深度五必勝棋型
                        break;
                case 8://L4
                        Score = 1000;//深度三必勝棋型
                        break;
                case 7://J4
                        Score = 1; //深度三前一
                        break;
                case 6://D4
                        Score = 1; //深度三前一 必須是奇數
                        break;
                case 5://L3
                        Score = 30; //深度五前一
                        break;
                case 4://J3
                        Score = 28; //深度五前一
                        break;
                case 3://D3
                        Score = 10; //深度五前一
                        break;
                case 2://L2
                        Score = 16; //深度七前一
                        break;
                case 1://J2
                        Score = 10;
                        break;      //深度七前一
     }

     int D3=2,L2=3,J2=2;
     for (i = 1; i < 4; i++)
     {
        if(dir[i]==3)   Score+=D3;
        else if(dir[i]==2)   Score+=L2;
        else if(dir[i]==1) Score+=J2;
        L2<<=2;  D3<<=2;  J2<<=2;
     }
     return Score;
}
//---------------------------------------------------------------------------
int GetMyBestMove(unsigned char *max_x,unsigned char *max_y,board_t GOMOKU,int color,int dep)
{
        int FinalValue;
        unsigned char temp[250],x,y;

        int Attack[15][15],Defense[15][15],Value[15][15];
        unsigned char x2,y2;

        if(dep==0)//單純回傳在盤面上最高攻擊分
        {
                for(x=0;x<15;x++)for(y=0;y<15;y++)      Attack[x][y] = GetMyScore(GOMOKU, x, y, color);
                FinalValue = -1000;
                for(x=0;x<15;x++)for(y=0;y<15;y++)
                {
                        if(GOMOKU[x][y]!=0)     continue;
                        if(Attack[x][y]>FinalValue)     {*max_x=x; *max_y=y;  FinalValue=Attack[x][y];}
                }
                return FinalValue;
        }
        //先判斷目前盤面是否有必勝點==================================
        for(x=0;x<15;x++)for(y=0;y<15;y++)
        {
               Attack[x][y] = GetMyScore(GOMOKU, x, y, color);
               if(Attack[x][y]>1000) return 2000;
        }
        //看看目前盤面有沒有必擋點===================================
        for(x=0;x<15;x++)for(y=0;y<15;y++)
        {
               Defense[x][y] = GetMyScore(GOMOKU, x, y, -color);
               if(Defense[x][y]>1000)
               {
                        *max_x=x; *max_y=y;
                        GOMOKU[x][y]=color;
                        Defense[x][y] = GetMyBestMove2(GOMOKU,-color,dep-1);//令人意外，這樣就好了!
                        Value[x][y] = Attack[x][y]-Defense[x][y];
                        GOMOKU[x][y]=0;
                        return Value[x][y];
               }
        }
        //如果都沒有的話 在盤面上亂丟一子=============================
        for(x=0;x<15;x++)for(y=0;y<15;y++)
        {
                Value[x][y] = -2000;
                if(GOMOKU[x][y]!=0)     continue;
                if(Attack[x][y]<10 && (Defense[x][y]<10 && Defense[x][y]>-100))       continue;//忽略必敗點 但對方必敗點不忽略

                GOMOKU[x][y]=color;   //下出AI想的第一子

                Defense[x][y]=GetMyBestMove2(GOMOKU,-color,dep-1);//對方找出自己最強點位與分數
                Value[x][y]=Attack[x][y]-Defense[x][y];
                GOMOKU[x][y]=0;
        }
        //找出所有下點，我方得分最高的點
        FinalValue = -1000;
        for(x=0;x<15;x++)for(y=0;y<15;y++)
        {
                        if(Value[x][y]>FinalValue)      {*max_x=x; *max_y=y;  FinalValue=Value[x][y];}
        }
        return FinalValue;
}

//---------------------------------------------------------------------------

int GetMyBestMove2(board_t GOMOKU,int color,int dep)   //return XYtoPOS
{
        int FinalValue;
        unsigned char temp[250],x,y;

        int Attack[15][15],Defense[15][15],Value[15][15];
        unsigned char x2,y2;

        if(dep==0)//單純回傳在盤面上最高攻擊分
        {
                for(x=0;x<15;x++)for(y=0;y<15;y++)      Attack[x][y] = GetMyScore(GOMOKU, x, y, color);
                FinalValue = -1000;
                for(x=0;x<15;x++)for(y=0;y<15;y++)
                {
                        if(GOMOKU[x][y]!=0)     continue;
                        if(Attack[x][y]>FinalValue)     {FinalValue=Attack[x][y];}
                }
                return FinalValue;
        }
        //先判斷目前盤面是否有必勝點==================================
        for(x=0;x<15;x++)for(y=0;y<15;y++)
        {
               Attack[x][y] = GetMyScore(GOMOKU, x, y, color);
               if(Attack[x][y]>1000) return 2000;
        }
        //看看目前盤面有沒有必擋點===================================
        for(x=0;x<15;x++)for(y=0;y<15;y++)
        {
               Defense[x][y] = GetMyScore(GOMOKU, x, y, -color);
               if(Defense[x][y]>1000)
               {
                        GOMOKU[x][y]=color;
                        Defense[x][y] = GetMyBestMove2(GOMOKU,-color,dep-1);//令人意外，這樣就好了!
                        Value[x][y] = Attack[x][y]-Defense[x][y];
                        GOMOKU[x][y]=0;
                        return Value[x][y];
               }
        }
        //如果都沒有的話 在盤面上亂丟一子=============================
        for(x=0;x<15;x++)for(y=0;y<15;y++)
        {
                Value[x][y] = -2000;
                if(GOMOKU[x][y]!=0)     continue;
                if(Attack[x][y]<10 && (Defense[x][y]<10 && Defense[x][y]>-100))       continue;//忽略必敗點 但對方必敗點不忽略

                GOMOKU[x][y]=color;   //下出AI想的第一子

                Defense[x][y]=GetMyBestMove2(GOMOKU,-color,dep-1);//對方找出自己最強點位與分數
                Value[x][y]=Attack[x][y]-Defense[x][y];
                GOMOKU[x][y]=0;
        }
        //找出所有下點，我方得分最高的點
        FinalValue = -1000;
        for(x=0;x<15;x++)for(y=0;y<15;y++)
        {
                        if(Value[x][y]>FinalValue)      FinalValue=Value[x][y];
        }
        return FinalValue;
}

//---------------------------------------------------------------------------

